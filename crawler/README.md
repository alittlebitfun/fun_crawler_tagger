# çˆ¬è™«æ¨¡å— (Crawler)

ä¸“é—¨ç”¨äºä»å„ç§å›¾ç‰‡ç½‘ç«™çˆ¬å–è§’è‰²å›¾ç‰‡çš„Pythonå·¥å…·é›†ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

- `batch_crawl.py` - **ä¸»è¦çˆ¬è™«è„šæœ¬**ï¼Œæ”¯æŒæ‰¹é‡çˆ¬å–å¤šä¸ªè§’è‰²
- `alternative_scraper.py` - æ›¿ä»£çˆ¬è™«æ–¹æ¡ˆï¼Œä½¿ç”¨Safebooruä½œä¸ºå¤‡ç”¨æº
- `crawl.py` - åŸºç¡€çˆ¬è™«è„šæœ¬ï¼Œæ”¯æŒphainonå’Œmydeiè§’è‰²
- `danbooru_scraper.py` - Danbooruä¸“ç”¨çˆ¬è™«
- `character_list.py` - åŸºç¡€è§’è‰²åˆ—è¡¨ï¼ˆ10ä¸ªè§’è‰²ï¼‰
- `complete_character_list.py` - å®Œæ•´è§’è‰²åˆ—è¡¨ï¼ˆ30+ä¸ªè§’è‰²ï¼‰
- `test_connection.py` - ç½‘ç»œè¿æ¥æµ‹è¯•å·¥å…·

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install waifuc requests pandas
```

### 2. æ‰¹é‡çˆ¬å–ï¼ˆæ¨èï¼‰

```bash
python batch_crawl.py
```

### 3. æ›¿ä»£çˆ¬è™«æ–¹æ¡ˆ

```bash
python alternative_scraper.py
```

## âš™ï¸ é…ç½®é€‰é¡¹

### ä»£ç†è®¾ç½®
åœ¨è„šæœ¬å¼€å¤´ä¿®æ”¹ä»£ç†é…ç½®ï¼š
```python
os.environ['HTTP_PROXY'] = 'http://127.0.0.1:7890'
os.environ['HTTPS_PROXY'] = 'http://127.0.0.1:7890'
```

### è¾“å‡ºç›®å½•
ä¿®æ”¹ `batch_crawl.py` ä¸­çš„è¾“å‡ºè·¯å¾„ï¼š
```python
base_dir = "F:/honkai_star_rail_characters"  # ä¿®æ”¹ä¸ºä½ çš„è·¯å¾„
```

### çˆ¬å–æ•°é‡
è®¾ç½®æ¯ä¸ªè§’è‰²çš„å›¾ç‰‡æ•°é‡ï¼š
```python
max_images = 100  # æ¯ä¸ªè§’è‰²çˆ¬å–100å¼ å›¾ç‰‡
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### AIå¤„ç†é€‰é¡¹
- **CCIPå¤„ç†**ï¼šå†…å®¹ä¸€è‡´æ€§æ£€æŸ¥
- **WD14æ ‡ç­¾**ï¼šè‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾
- **äººè„¸æ£€æµ‹**ï¼šç¡®ä¿å•ä¸ªäººè„¸
- **ç›¸ä¼¼åº¦è¿‡æ»¤**ï¼šå»é™¤é‡å¤å›¾ç‰‡

### å›¾ç‰‡å¤„ç†
- **æ ¼å¼è½¬æ¢**ï¼šRGBæ¨¡å¼è½¬æ¢
- **å°ºå¯¸è°ƒæ•´**ï¼šè‡ªåŠ¨è°ƒæ•´åˆ°1024px
- **èƒŒæ™¯å¤„ç†**ï¼šé€æ˜èƒŒæ™¯è½¬ç™½è‰²
- **éšæœºå‘½å**ï¼šé¿å…æ–‡ä»¶åå†²çª

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### çˆ¬å–å•ä¸ªè§’è‰²
```python
from complete_character_list import all_characters, character_names

# çˆ¬å–ä¸¹æ’çš„å›¾ç‰‡
character_tag = "dan_heng_(honkai:_star_rail)"
character_name = "ä¸¹æ’"
```

### æ‰¹é‡çˆ¬å–æ‰€æœ‰è§’è‰²
```python
# åœ¨batch_crawl.pyä¸­é€‰æ‹©"çˆ¬å–æ‰€æœ‰è§’è‰²"
crawl_all = "y"  # æˆ– "yes"
```

### è‡ªå®šä¹‰è§’è‰²é€‰æ‹©
```python
# é€‰æ‹©ç‰¹å®šè§’è‰²ç¼–å·
selected_indices = "1,3,5"  # çˆ¬å–ç¬¬1ã€3ã€5ä¸ªè§’è‰²
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œè¿æ¥**ï¼šç¡®ä¿ç½‘ç»œç¨³å®šï¼Œå¯èƒ½éœ€è¦ä»£ç†
2. **å­˜å‚¨ç©ºé—´**ï¼šæ¯ä¸ªè§’è‰²çº¦100å¼ å›¾ç‰‡ï¼Œéœ€è¦è¶³å¤Ÿç©ºé—´
3. **çˆ¬å–é€Ÿåº¦**ï¼šAIå¤„ç†æ¨¡å¼è¾ƒæ…¢ï¼Œä½†è´¨é‡æ›´é«˜
4. **ç½‘ç«™é™åˆ¶**ï¼šéµå®ˆå„ç½‘ç«™çš„çˆ¬è™«åè®®
5. **ç‰ˆæƒå£°æ˜**ï¼šä»…ç”¨äºå­¦ä¹ ç ”ç©¶ï¼Œè¯·å‹¿å•†ç”¨

## ğŸ› ï¸ æ•…éšœæ’é™¤

### è¿æ¥é—®é¢˜
```bash
python test_connection.py
```

### ä»£ç†é—®é¢˜
æ£€æŸ¥ä»£ç†è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼š
```python
# ç¡®ä¿ä»£ç†åœ°å€æ­£ç¡®
os.environ['HTTP_PROXY'] = 'http://127.0.0.1:7890'
```

### ä¾èµ–é—®é¢˜
```bash
pip install --upgrade waifuc requests pandas
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨éAIæ¨¡å¼å¯æ˜¾è‘—æå‡é€Ÿåº¦
- è°ƒæ•´å›¾ç‰‡æ•°é‡ä»¥å¹³è¡¡è´¨é‡å’Œé€Ÿåº¦
- ä½¿ç”¨SSDå­˜å‚¨æå‡I/Oæ€§èƒ½
- ç¡®ä¿ç½‘ç»œå¸¦å®½å……è¶³

## ğŸ”— ç›¸å…³èµ„æº

- [Waifucæ–‡æ¡£](https://github.com/deepghs/waifuc)
- [Danbooru API](https://danbooru.donmai.us/wiki_pages/help:api)
- [Safebooru API](https://safebooru.org/index.php?page=help&topic=cheatsheet)
